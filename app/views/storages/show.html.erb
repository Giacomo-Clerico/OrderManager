<h1 class="text-2xl font-bold mb-6">Storage Details</h1>

<div class="space-y-3">
    <p>
        <span class="font-semibold">Name:</span>
        <%= @storage.name %>
    </p>

    <p>
        <span class="font-semibold">Abbreviation:</span>
        <%= @storage.abbreviation %>
    </p>
    </div>

    <div class="mt-6 flex gap-4">
    <%= link_to "Back to List", storages_path, class: "px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700" %>

    <% if %w[manager director].include?(current_user.user_type) %>
        <%= link_to "Edit", edit_storage_path(@storage), class: "px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600" %>
        <%= button_to "Delete", storage_path(@storage), method: :delete, data: { confirm: "Are you sure?" }, class: "px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700" %>
    <% end %>
</div>


<h1>Products</h1>

<table class="table-auto border-collapse border border-gray-400 mt-4">
<thead>
    <tr class="bg-gray-200">
    <th class="border border-gray-400 px-4 py-2">Product</th>
    <th class="border border-gray-400 px-4 py-2">Quantity</th>
    <th class="border border-gray-400 px-4 py-2">Last updated at</th>
    </tr>
</thead>
<tbody>
    <% @stocks.each do |stock| %>
    <tr>
        <td class="border border-gray-400 px-4 py-2"><%= stock.product&.code || "N/A" %></td>
        <td class="border border-gray-400 px-4 py-2"><%= stock.quantity %></td>
        <td class="border border-gray-400 px-4 py-2"><%= l(stock.updated_at, format: :short) %></td>
    </tr>
    <% end %>
</tbody>
</table>

